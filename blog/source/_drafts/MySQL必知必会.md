### 一条普通的sql语句，会访问几次磁盘

```sql
t1 
id a b c d
# id是主键，然后有c的索引
select * from t1 where c = 5;
```

你可以这么理解，但是 MySQL 中一般情况下所有的非叶节点都会在内存中，只有访问叶节点才会需要随机 I/O 加载数据，如果不考虑这个就是 6 次，但是一般情况下最多只会有 2 次。

MySQL中Page存在于Buffer Pool和是否为叶子节点没有关系，按照你的描述，这里只能假设Page均不在Buffer Pool中，所以需要6次IO: 二级索引3次，主键索引3次. 在InnoDB中的实现中Buffer Pool会进行read ahead预读，所以真正具体IO次数无法确定。

### 为什么说B+树比B树更适合数据库索引？

1. B+树的磁盘读写代价更低

　　B+树的内部结点并没有指向关键字具体信息的指针。因此其内部结点相对B 树更小。如果把所有同一内部结点的关键字存放在同一盘块中，那么盘块所能容纳的关键字数量也越多。一次性读入内存中的需要查找的关键字也就越多。相对来说IO读写次数也就降低了；

2. B+树查询效率更加稳定

　　由于非终结点并不是最终指向文件内容的结点，而只是叶子结点中关键字的索引。所以任何关键字的查找必须走一条从根结点到叶子结点的路。所有关键字查询的路径长度相同，导致每一个数据的查询效率相当；

3. B+树便于范围查询（最重要的原因，范围查找是数据库的常态）

　　B树在提高了IO性能的同时并没有解决元素遍历的我效率低下的问题，正是为了解决这个问题，B+树应用而生。B+树只需要去遍历叶子节点就可以实现整棵树的遍历。而且在数据库中基于范围的查询是非常频繁的，而B树不支持这样的操作或者说效率太低。

补充：B树的范围查找用的是中序遍历，而B+树用的是在链表上遍历；